# DB_lab1
# Лабораторна робота №1
# Тема: Система управління лікарнею

#  Опис роботи
Лабораторна робота реалізує повноцінну модель бази даних для системи управління лікарнею.  
Проєкт включає ER-діаграму, SQL-схему, тригери, збережені процедури, індекси, розрізи даних (VIEW), а також приклад роботи з базою C# з використанням патернів **Repository** та **Unit of Work**.

# 1. ER-діаграма
Створена в (https://dbdiagram.io/).
Файл: ER_діаграма.pdf (Також додав у гугл класрум щоб можна було нормально на неї подивитись)

# 2. Кількість сутностей
Реалізовано 19 сутностей

# 3. Soft delete та аудит
Для сутностей (`patients`, `doctors` , `appointments` , `admissions` , `medical_records`, тощо) додано:
  `is_deleted` , `deleted_at`,  `deleted_by`
  `updated_at`,  `updated_by`
 Додані тригери аудиту та заборони hard delete.

# 4. Реалізація моделі у реляційній СУБД
Використано PostgreSQL.
Повна SQL-схема у файлі: hospital_schema.sql

# 5. Збережені процедури, функції, тригери, VIEW
Реалізовано 12+ процедур/функцій.
Реалізовано 10+ тригерів.
Створено розрізи даних: `vw_active_patients`, `vw_appointments_detailed`.

# 6. Індекси
B-Tree індекси.
GIN-індекс для JSONB поля.

# 7. Робота з БД з коду
C# реалізація Repository + Unit of Work.
Усі операції працюють через збережені процедури та VIEW.
Код у файлі: HospitalSystem.cs.
